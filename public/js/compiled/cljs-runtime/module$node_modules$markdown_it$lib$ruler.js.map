{
"version":3,
"file":"module$node_modules$markdown_it$lib$ruler.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/markdown-it/lib/ruler.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$markdown_it$lib$ruler\"] = function(global,require,module,exports) {\n/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Ruler","__rules__","__cache__","prototype","__find__","Ruler.prototype.__find__","name","i","length","__compile__","Ruler.prototype.__compile__","self","chains","forEach","rule","enabled","alt","altName","indexOf","push","chain","fn","at","Ruler.prototype.at","options","index","opt","Error","before","Ruler.prototype.before","beforeName","ruleName","splice","after","Ruler.prototype.after","afterName","Ruler.prototype.push","enable","Ruler.prototype.enable","list","ignoreInvalid","Array","isArray","result","idx","enableOnly","Ruler.prototype.enableOnly","disable","Ruler.prototype.disable","getRules","Ruler.prototype.getRules","chainName"]
}
