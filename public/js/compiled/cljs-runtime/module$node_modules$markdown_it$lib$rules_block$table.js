shadow$provide.module$node_modules$markdown_it$lib$rules_block$table=function(global,require,module,exports){function getLine(state,line){var pos=state.bMarks[line]+state.blkIndent;return state.src.substr(pos,state.eMarks[line]-pos)}function escapedSplit(str){var result=[],pos=0,max=str.length,ch,escapes=0,lastPos=0,backTicked=!1,lastBackTick=0;for(ch=str.charCodeAt(pos);pos<max;)96===ch?backTicked?(backTicked=!1,lastBackTick=pos):0===escapes%2&&(backTicked=!0,lastBackTick=pos):124!==ch||0!==escapes%
2||backTicked||(result.push(str.substring(lastPos,pos)),lastPos=pos+1),92===ch?escapes++:escapes=0,pos++,pos===max&&backTicked&&(backTicked=!1,pos=lastBackTick+1),ch=str.charCodeAt(pos);result.push(str.substring(lastPos));return result}var isSpace=require("module$node_modules$markdown_it$lib$common$utils").isSpace;module.exports=function(state,startLine,endLine,silent){var tbodyLines;if(startLine+2>endLine)return!1;var nextLine=startLine+1;if(state.sCount[nextLine]<state.blkIndent||4<=state.sCount[nextLine]-
state.blkIndent)return!1;var lineText=state.bMarks[nextLine]+state.tShift[nextLine];if(lineText>=state.eMarks[nextLine])return!1;var ch=state.src.charCodeAt(lineText++);if(124!==ch&&45!==ch&&58!==ch)return!1;for(;lineText<state.eMarks[nextLine];){ch=state.src.charCodeAt(lineText);if(124!==ch&&45!==ch&&58!==ch&&!isSpace(ch))return!1;lineText++}lineText=getLine(state,startLine+1);var columns=lineText.split("|");ch=[];for(lineText=0;lineText<columns.length;lineText++){nextLine=columns[lineText].trim();
if(!nextLine)if(0===lineText||lineText===columns.length-1)continue;else return!1;if(!/^:?-+:?$/.test(nextLine))return!1;58===nextLine.charCodeAt(nextLine.length-1)?ch.push(58===nextLine.charCodeAt(0)?"center":"right"):58===nextLine.charCodeAt(0)?ch.push("left"):ch.push("")}lineText=getLine(state,startLine).trim();if(-1===lineText.indexOf("|")||4<=state.sCount[startLine]-state.blkIndent)return!1;columns=escapedSplit(lineText.replace(/^\||\|$/g,""));var columnCount=columns.length;if(columnCount>ch.length)return!1;
if(silent)return!0;var token=state.push("table_open","table",1);token.map=silent=[startLine,0];token=state.push("thead_open","thead",1);token.map=[startLine,startLine+1];token=state.push("tr_open","tr",1);token.map=[startLine,startLine+1];for(lineText=0;lineText<columns.length;lineText++)token=state.push("th_open","th",1),token.map=[startLine,startLine+1],ch[lineText]&&(token.attrs=[["style","text-align:"+ch[lineText]]]),token=state.push("inline","",0),token.content=columns[lineText].trim(),token.map=
[startLine,startLine+1],token.children=[],state.push("th_close","th",-1);state.push("tr_close","tr",-1);state.push("thead_close","thead",-1);token=state.push("tbody_open","tbody",1);token.map=tbodyLines=[startLine+2,0];for(nextLine=startLine+2;nextLine<endLine&&!(state.sCount[nextLine]<state.blkIndent);nextLine++){lineText=getLine(state,nextLine).trim();if(-1===lineText.indexOf("|"))break;if(4<=state.sCount[nextLine]-state.blkIndent)break;columns=escapedSplit(lineText.replace(/^\||\|$/g,""));state.push("tr_open",
"tr",1);for(lineText=0;lineText<columnCount;lineText++)token=state.push("td_open","td",1),ch[lineText]&&(token.attrs=[["style","text-align:"+ch[lineText]]]),token=state.push("inline","",0),token.content=columns[lineText]?columns[lineText].trim():"",token.children=[],state.push("td_close","td",-1);state.push("tr_close","tr",-1)}state.push("tbody_close","tbody",-1);state.push("table_close","table",-1);silent[1]=tbodyLines[1]=nextLine;state.line=nextLine;return!0}}
//# sourceMappingURL=module$node_modules$markdown_it$lib$rules_block$table.js.map
